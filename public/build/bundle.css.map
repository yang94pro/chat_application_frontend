{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\App.svelte"
  ],
  "sourcesContent": [
    "<script>\n\t\n\timport { onMount } from 'svelte';\n\timport { beforeUpdate, afterUpdate } from 'svelte';\n\n\tlet name;\n\tlet currentuser = name;\n\tlet div;\n\tlet autoscroll;\n\tlet input;\n\tconst serveradd = \"https://webchay.herokuapp.com\"\n\n\timport io from 'socket.io-client';\n\tconst socket = io(serveradd);\n\n\n\t\n\tbeforeUpdate(() => {\n\t\tautoscroll = div && (div.offsetHeight + div.scrollTop) > (div.scrollHeight - 20);\n\t});\n\n\tafterUpdate(() => {\n\t\tif (autoscroll) div.scrollTo(0, div.scrollHeight);\n\t});\n\n\tfunction dateformat(){\n\t\tlet now = new Date();\n\t\tconst offsetMs = now.getTimezoneOffset() * 60 * 1000;\n\t\tconst dateLocal = new Date(now.getTime() - offsetMs);\n\t\tlet str =dateLocal.toISOString().slice(0, 19).replace(/-/g, \"/\").replace(\"T\", \" \");\n\t\treturn str;\n\t};\n\n\tfunction handleKeydown() {\n\n\t\tif (event.which === 13 || event.type === \"click\") {\n\n\t\t\tconst text = input.value;\n\t\t\tif (!text) return;\n\t\t\t\n\t\t\tsocket.emit('chat message', {\n\t\t\t\t\"author\": name, \n\t\t\t\t\"commend\": text, \n\t\t\t\t\"time\": dateformat(),\n\t\t\t});\n\t\t\t\n\t\t\tconsole.log(comments);\n\t\t\tinput.value = '';\n\t\t};\n\t};\n\t\n\t\n\n\t\n\tvar formdata = new FormData();\n\tvar requestOptions = {\n\t\tmethod: 'GET',\n\t\tredirect: 'follow',\n\t\t\n\t\t};\n\tlet comments=[];\n\tonMount(async() => { \n\t\tconst res = await fetch(serveradd+\"/api/chat\", requestOptions);\n\t\tlet results = await res.json();\n\t\tawait results.reverse().forEach(result => {\n\t\t\tcomments = comments.concat({\n\t\t\t\t\tauthor: result.author,\n\t\t\t\t\ttext: result.commend,\n\t\t\t\t\ttime: result.time\n\n\t\t\t\t});\n\n\t\t});\n\n\t});\n\t\n\t\n\t\n\tsocket.on('chat message', function (json) {\n\t\tjson = JSON.parse(json);\n\t\t\n        comments = comments.concat({\n\t\t\t\tauthor: json.author,\n\t\t\t\ttext: json.commend,\n\t\t\t\ttime: json.time\n\t\t\t});\n\t\t\n\n      });\n\n\n</script>\n\n<main>\n<div class=\"title\"> <h1>Hello {name} !</h1></div>\n<div class=\"headdiv\">\n\t<label><h2>Name:</h2> </label>\n\t<input type=\"text\" bind:value={name} class=\"user_input\"/>\n</div>\n\n<div class=\"chat\">\n\t<div class=\"scrollable\" bind:this={div}>\n\t\t{#each comments as comment, i}\n\t\t\t{#if comment.author===\"system\"}\n\t\t\t\t<span class=\"systemsg\">{comment.text}</span>\n\t\t\t{:else}\n\t\t\t\t{#if comment.author != name}{#if i!=0 && comment.author != comments[i-1].author} \n\t\t\t\t\t<p class='otherusert'>{comment.author}:</p>\n\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t\t<article class=\"{comment.author=== name? \"user\":\"other\"}\">\n\t\t\t\t\t<span>{comment.text}</span>\n\t\t\t\t\t<input class=\"nothing\" type=\"button\">\n\t\t\t\t\t<div id=\"commentdate\">\n\t\t\t\t\t\t{comment.time}\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t\t\n\t\t\t\t \n\t\t\t{/if}\n\t\t{:else}\n\n\t\t\t<!-- this block renders when photos.length === 0 -->\n\t\t\t<center><p>Comments are loading...</p></center>\n\t\t{/each}\n\t</div>\n\n\t<input bind:this={input} on:keydown={handleKeydown}/> <button  type=\"submit\" on:click={handleKeydown}>Send</button>\n\n</div>\n\t\n\t\n\n</main>\n\n<style>\n\n\tmain{\n\t\tdisplay: grid;\n\t\tjustify-items: center;\n\t\theight: 95vh;\n\t\twidth: 95vw;\n\t\tmargin:auto;\n\t\tpadding:auto;\t\n\n\t}\n\th1 {\n\t\tcolor: #ff3e00;\n\t\ttext-transform: uppercase;\n\t\tfont-size: 2.5em;\n\t\tfont-weight: bold;\n\t\ttext-align: center;\n\n\t\tword-wrap: break-word;\n\t\t\n\t}\n\t.title{\n\t\twidth: 50vw;\n\t}\n\n\t\n\t.systemsg{\n\t\ttext-align: center;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tfont-size: 20px;\n\t\tcolor: rgb(151, 151, 151);\n\t}\n\t.headdiv{\n\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\theight: 50px;\n\t\tmargin: auto;\n\t\tmax-width: 100px;\n\t\talign-items: center;\n\t\n\t\t\n\t}\n\n\t.headdiv label {\n\t\tpadding:1em;\n\t\t\n\n\t}\n\n\n\t.chat {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 50vh;\n\t\tmax-height: 600px;\n\t\tmax-width: 440px;\n\t\twidth:80%;\n\t\tjustify-content: center;\n\t\tword-wrap: break-word;\n\t\t\n\t\t\n\t\t\n\t}\n\n\t.scrollable {\n\t\tflex: 1 1 auto;\n\t\tborder-top: 1px solid #eee;\n\t\tmargin: 0 0 0.5em 0;\n\t\toverflow-y: auto;\n\t\tword-wrap: break-word;\n\t\tfont-size: 1em;\n\t\t\n\t}\n\n\tarticle {\n\t\tmargin: 0 0 0.3em 0;\n\t\tposition: relative;\n\n\t\n\t\t\n\t}\n\t#commentdate{\n\t\tdisplay: none;\n\t\ttransition: all 5s ease-out;\n\t\t-webkit-transition: all 5s ease-in-out;\n\t\tmargin: 0 5px 0 ;\n\n\t}\n\t.nothing{\n\t\topacity: 0;\n\t\ttop:0;\n\t\tleft:0;\n\t\twidth:100%;\n\t\tposition: absolute;\n\t\tcursor: pointer;\n\t\ttransition: all 5s ease-out; \n\t\t-webkit-transition: all 5s ease-in-out;\n\t}\n\n\n\t.nothing:focus + div#commentdate{\n\t\tdisplay:block;\n\t\tcolor: dimgrey;\n\t}\n\n\t.user {\n\t\ttext-align: right;\n\t}\n\n\tspan {\n\t\tpadding: 0.5em 1em;\n\t\tdisplay: inline-block;\n\t\n\t}\n\n\t.other span {\n\t\tbackground-color: #eee;\n\t\tborder-radius: 1em 1em 1em 0;\n\t\tmax-width: 250px;\n\t\tword-wrap: break-word;\n\t\tcolor:#5D6D7E  ;\n\t\t\n\t}\n\n\t.user span {\n\t\tbackground-color: #0074D9;\n\t\tcolor: white;\n\t\tborder-radius: 1em 1em 0 1em;\n\t\ttext-align: left;\n\t\tmax-width: 250px;\n\t\tword-wrap: break-word;\n\n\t}\n\t.otherusert {\n\t\t\n\t\tmargin:0.5em 0 0.3em 0.5em;\n\t\tcolor: #34495E ;\n\t\tfont-weight: bold;\n\t}\n\n\t.user input.nothing{\n\t\topacity: 0;\n\t\ttop:0;\n\t\tright:0;\n\t\twidth: 100%;\n\t\tfloat:right;\n\t\tposition: absolute;\n\t\tcursor: pointer;\n\t\t\n\t}\n\t\n\n\t@media only screen and (max-width: 400px) {\n\t\t.headdiv{\n\t\t\tmax-height: 100px;\n\t\t}\n\t}\n</style>\n\n"
  ],
  "names": [],
  "mappings": "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"
}